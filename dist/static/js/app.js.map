{"version":3,"sources":["webpack:///./src/main.js","webpack:///./src/App.vue","webpack:///./src/App.vue?b700","webpack:///src/App.vue","webpack:///./src/minxins/index.js","webpack:///./src/store/index.js"],"names":["Vue","use","MyPlugin","prototype","$store","store","config","productionTip","App","mpType","app","$mount","pageDatas","install","$isPage","isPage","$mp","$pageId","pageId","page","__wxWebviewId__","mixin","methods","stashPageData","data","$data","restorePageData","oldData","onLoad","$options","onUnload","$needReloadPageData","console","log","onHide","onShow","Vuex","Store","state","cityName","mutations","update","map","item","key"],"mappings":"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","file":"static/js/app.js","sourcesContent":["import Vue from 'vue'\nimport App from './App'\n\n//全局处理重复页面跳转详情初始化,和详情跳详情返回的bug\nimport MyPlugin from './minxins'\nVue.use(MyPlugin)\n\n\n//引入store\nimport store from './store/index'\n//把store挂载到全局\nVue.prototype.$store = store;\n\nVue.config.productionTip = false\nApp.mpType = 'app'\n\nconst app = new Vue(App)\napp.$mount()\n\nexport default {\n  // 这个字段走 app.json\n  config: {\n    // 页面前带有 ^ 符号的，会被编译成首页，其他页面可以选填，我们会自动把 webpack entry 里面的入口页面加进去\n    \"pages\": [\"pages/feedback/main\", \"pages/order/main\", \"pages/fans/main\", \"pages/cart/main\", \"pages/mappage/main\", \"pages/collectlist/main\", \"pages/addressSelect/main\", \"pages/addaddress/main\", \"pages/address/main\", \"^pages/index/main\", \"pages/search/main\", \"pages/my/main\", \"pages/login/main\", \"pages/category/main\", \"pages/categorylist/main\", \"pages/topic/main\", \"pages/goods/main\", \"pages/logs/main\", \"pages/branddetail/main\", \"pages/brandlist/main\", \"pages/newgoods/main\", \"pages/practice/main\", \"pages/topicdetail/main\"],\n    \"window\": {\n      \"backgroundTextStyle\": \"light\",\n      \"navigationBarBackgroundColor\": \"#fff\",\n      \"navigationBarTitleText\": \"优惠券小程序\",\n      \"navigationBarTextStyle\": \"black\"\n    },\n    \"tabBar\": {\n      \"backgroundColor\": \"#fafafa\",\n      \"borderStyle\": \"white\",\n      \"selectedColor\": \"#FE0000\",\n      \"color\": \"#666\",\n      \"list\": [{\n          \"pagePath\": \"pages/index/main\",\n          \"iconPath\": \"static/images/ic_menu_choice_nor.png\",\n          \"selectedIconPath\": \"static/images/ic_menu_choice_pressed.png\",\n          \"text\": \"首页\"\n        },\n        // {\n        //   \"pagePath\": \"pages/topic/main\",\n        //   \"iconPath\": \"static/images/ic_menu_topic_nor.png\",\n        //   \"selectedIconPath\": \"static/images/ic_menu_topic_pressed.png\",\n        //   \"text\": \"专题\"\n        // },\n        {\n          \"pagePath\": \"pages/category/main\",\n          \"iconPath\": \"static/images/ic_menu_sort_nor.png\",\n          \"selectedIconPath\": \"static/images/ic_menu_sort_pressed.png\",\n          \"text\": \"分类\"\n        },\n        // {\n        //   \"pagePath\": \"pages/cart/main\",\n        //   \"iconPath\": \"static/images/ic_menu_shoping_nor.png\",\n        //   \"selectedIconPath\": \"static/images/ic_menu_shoping_pressed.png\",\n        //   \"text\": \"购物车\"\n        // },\n        {\n          \"pagePath\": \"pages/my/main\",\n          \"iconPath\": \"static/images/ic_menu_me_nor.png\",\n          \"selectedIconPath\": \"static/images/ic_menu_me_pressed.png\",\n          \"text\": \"我的\"\n        }\n      ]\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9b0f5c4c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/mpvue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nvar __vue_template__ = null\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/App.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-9b0f5c4c\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-9b0f5c4c\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 60\n// module chunks = 2","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":false,\"sourceMap\":false}!./node_modules/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-9b0f5c4c\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./node_modules/postcss-loader/lib?{\"sourceMap\":true}!./node_modules/mpvue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = 61\n// module chunks = 2","<script>\n// import {\n//   getOpenid\n// } from './utils'\nexport default {\n  created() {\n    // 调用API从本地缓存中获取数据\n    const logs = wx.getStorageSync(\"logs\") || [];\n    logs.unshift(Date.now());\n    wx.setStorageSync(\"logs\", logs);\n    var userInfo = {\n      openId: \"oQmbb4sNZdxaUQZ0sfYgvtOP2S7c\",\n      nickName: \"何玉硕\",\n      gender: 1,\n      language: \"zh_CN\",\n      city: \"Changping\",\n      province: \"Beijing\",\n      country: \"China\",\n      avatarUrl: \"https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIbWFEIJj8IpGeHM7dGic1aTFZALjWcMm9ltWfFiaQfVRYticWBfgGfzXWMt2EkJWiaicPtftHAlWxUibxQ/132\",\n      watermark: { timestamp: 1535513485, appid: \"wx601ce71bde7b9add\" }\n    };\n    var openId = userInfo.openId;\n    wx.setStorageSync(\"userInfo\", userInfo);\n    wx.setStorageSync(\"openId\", openId);\n    console.log(\"app created and cache logs by setStorageSync\");\n    //获取openid\n\n    // if (!wx.getStorageSync('openid')) {\n    //   getOpenid();\n    // }\n  }\n};\n</script>\n\n<style>\n@import url(\"./iconfont/iconfont.css\");\n\n.container {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  padding: 200rpx 0;\n  box-sizing: border-box;\n}\n\npage {\n  background: #f4f4f4;\n  height: 100%;\n}\n\nbutton {\n  background: none;\n  padding: 0;\n  font-weight: normal;\n  font-size: 32rpx;\n  box-sizing: content-box;\n}\nbutton::after {\n  border: 0;\n}\n\nview,\ntext {\n  font-size: 28rpx;\n  color: #333;\n}\n\n.wxParse .p {\n  margin: 0 !important;\n}\n\n.wxParse .img {\n  display: block !important;\n}\n\n/* this rule will be remove */\n\n/* * {\n  transition: width 2s;\n  -moz-transition: width 2s;\n  -webkit-transition: width 2s;\n  -o-transition: width 2s;\n} */\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue?1ed5142b","const pageDatas = {}\n\nlet MyPlugin = {};\nMyPlugin.install = function (Vue) {\n  // 添加全局方法或属性\n  Vue.prototype.$isPage = function isPage() {\n    return this.$mp && this.$mp.mpType === 'page'\n  }\n\n  Vue.prototype.$pageId = function pageId() {\n    return this.$isPage() ? this.$mp.page.__wxWebviewId__ : null\n  }\n\n  // 注入组件\n  Vue.mixin({\n\n    methods: {\n      stashPageData() {\n        // 备份route和当前数据\n        return {\n          data: { ...this.$data\n          }\n        }\n      },\n      restorePageData(oldData) {\n        Object.assign(this.$data, oldData.data)\n      }\n    },\n\n    onLoad() {\n      if (this.$isPage()) {\n        // 新进入页面 初始化数据\n        Object.assign(this.$data, this.$options.data())\n      }\n    },\n\n    onUnload() {\n      if (this.$isPage()) {\n        // 退出页面，删除数据\n        delete pageDatas[this.$pageId()]\n        this.$needReloadPageData = true\n        console.log(pageDatas);\n      }\n    },\n\n    onHide() {\n      if (this.$isPage()) {\n        // 将要隐藏时，备份数据\n        pageDatas[this.$pageId()] = this.stashPageData()\n\n        console.log(pageDatas);\n\n      }\n    },\n\n    onShow() {\n      if (this.$isPage()) {\n        // 如果是后退回来的，拿出历史数据来设置data\n        if (this.$needReloadPageData) {\n          const oldData = pageDatas[this.$pageId()]\n\n          if (oldData) {\n            this.restorePageData(oldData)\n          }\n          this.$needReloadPageData = false\n        }\n      }\n    }\n\n  })\n}\nexport default MyPlugin\n\n\n\n// WEBPACK FOOTER //\n// ./src/minxins/index.js","import Vue from 'vue';\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n  state: {\n    cityName: \"定位中..\"\n  },\n  mutations: {\n    /**\n     * 在main.js例引入\n     * import store from './store/index'\n     * 把store挂载到全局\n     * Vue.prototype.$store = store;\n     */\n\n    /**\n     * 这里设置一个统一的方法,大部分用的vuex都是简单的改变一些状态,不需要写过多的mutations\n     * 使用方法 例:\n     * this.$store.update({\"cityName\":\"北京\"})\n     * \n     *  config需要传入对象\n     * @param {*} state \n     * @param {*Object} config \n     */\n    update(state, config) {\n      Object.keys(config).map((item, key) => {\n        state[item] = config[item]\n      })\n    }\n  }\n})\n\nexport default store;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js"],"sourceRoot":""}